<div class="invoice-form-container">
  <h2>Add New Invoice</h2>
  <form [formGroup]="invoiceForm" (ngSubmit)="onSubmit()">
    
    <!-- Invoice Number Field -->
    <mat-form-field appearance="fill">
      <mat-label>Invoice Number</mat-label>
      <input matInput formControlName="invoice_number" required>
      <mat-error *ngIf="invoiceForm.get('invoice_number')?.hasError('required')">
        Invoice number is required.
      </mat-error>
    </mat-form-field>

    <!-- Date Field -->
    <mat-form-field appearance="fill">
      <mat-label>Date</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="date" required>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="invoiceForm.get('date')?.hasError('required')">
        Date is required.
      </mat-error>
    </mat-form-field>

    <!-- Supplier Selection -->
    <mat-form-field appearance="fill">
      <mat-label>Supplier</mat-label>
      <mat-select formControlName="supplier_id" required>
        <mat-option *ngFor="let supplier of suppliers" [value]="supplier.id">
          {{ supplier.supplier_name }} <!-- Change to supplier.supplier_name -->
        </mat-option>
      </mat-select>
      <mat-error *ngIf="invoiceForm.get('supplier_id')?.hasError('required')">
        Supplier is required.
      </mat-error>
    </mat-form-field>

    <!-- Cost Code Selection -->
    <mat-form-field appearance="fill">
      <mat-label>Cost code name</mat-label>
      <mat-select formControlName="cost_code_id" required>
        <mat-option *ngFor="let cost of typeOfCosts" [value]="cost.id">
          {{ cost.cost_name }} <!-- Change to cost.name -->
        </mat-option>
      </mat-select>
      <mat-error *ngIf="invoiceForm.get('cost_code_id')?.hasError('required')">
        Cost code is required.
      </mat-error>
    </mat-form-field>

    <!-- Cost Center Code Selection -->
    <mat-form-field appearance="fill">
      <mat-label>Cost center name</mat-label>
      <mat-select formControlName="cost_center_code_id" required>
        <mat-option *ngFor="let center of costCenters" [value]="center.id">
          {{ center.cost_center_name }} 
        </mat-option>
      </mat-select>
      <mat-error *ngIf="invoiceForm.get('cost_center_code_id')?.hasError('required')">
        Cost center is required.
      </mat-error>
    </mat-form-field>

    <!-- Netto Amount Field -->
    <mat-form-field appearance="fill">
      <mat-label>Netto Amount</mat-label>
      <input matInput type="number" formControlName="netto_amount" required>
      <mat-error *ngIf="invoiceForm.get('netto_amount')?.hasError('required')">
        Netto amount is required.
      </mat-error>
      <mat-error *ngIf="invoiceForm.get('netto_amount')?.hasError('min')">
        Netto amount must be greater than zero.
      </mat-error>
    </mat-form-field>

    <!-- Submit Button -->
    <button mat-raised-button color="primary" type="submit" [disabled]="invoiceForm.invalid">
      Submit
    </button>
  </form>
</div>


